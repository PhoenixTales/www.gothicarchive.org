{%

assign rootDomain = "gothicarchive.org" %}{%
assign dirPath = "" %}{%
assign urlParts = page.url | split: '/' %}{%
assign dirDepth = urlParts | size | minus: 2 %}{%
for i in (1..dirDepth) %}{%
    assign dirPath = dirPath | append: '/' | append: urlParts[i] %}{%
endfor %}{%

if jekyll.environment == "production" %}{%

  assign wwwRoot    = "https://"        | append: rootDomain %}{%
  assign audioRoot  = "https://audio."  | append: rootDomain %}{%
  assign binRoot    = "https://bin."    | append: rootDomain %}{%
  assign imagesRoot = "https://images." | append: rootDomain %}{%
  assign sitesRoot  = "https://sites."  | append: rootDomain %}{%
  assign videosRoot = "https://videos." | append: rootDomain %}{%
  assign wikiRoot   = "https://wiki."   | append: rootDomain %}{%

  assign mediaRoot  = "https://media."  | append: rootDomain %}{%

else %}{%

  assign zipRoot = ".." %}{%
  assign zipRootSeparator = "/" %}{%
  for i in (2..dirDepth) %}{%
    assign zipRoot = zipRoot | append: "/.." %}{%
  endfor %}{%
  if dirDepth == 0 %}{%
    assign zipRoot = "" %}{%
    assign zipRootSeparator = "" %}{%
  endif %}{%

  assign wwwRoot    = zipRoot %}{%
  assign audioRoot  = zipRoot | append: zipRootSeparator | append: "audio" %}{%
  assign binRoot    = zipRoot | append: zipRootSeparator | append: "bin" %}{%
  assign imagesRoot = zipRoot | append: zipRootSeparator | append: "images" %}{%
  assign sitesRoot  = https://sites." | append: rootDomain %}{%
  assign videosRoot = zipRoot | append: zipRootSeparator | append: "videos" %}{%
  assign wikiRoot   = zipRoot | append: zipRootSeparator | append: "wiki" %}{%

  assign mediaRoot  = zipRoot | append: zipRootSeparator | append: "media" %}{%

endif %}{%


assign wwwDir     = "." %}{%
assign audioDir   = audioRoot  | append: dirPath %}{%
assign binDir     = binRoot    | append: dirPath %}{%
assign imagesDir  = imagesRoot | append: dirPath %}{%
assign sitesDir   = sitesRoot  | append: dirPath %}{%
assign videosDir  = videosRoot | append: dirPath %}{%
assign wikiDir    = wikiRoot   | append: dirPath %}{%


assign mediaDir         = mediaRoot  | append: dirPath %}{%
assign absLinkBase      = wwwRoot %}{%
assign linkBase         = wwwDir %}{%
assign absMediaLinkBase = mediaRoot %}{%
assign mediaLinkBase    = mediaDir

%}

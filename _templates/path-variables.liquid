{%

assign rootDomain = "gothicarchive.org" %}{%
assign dirPath = "" %}{%
assign urlParts = page.url | append: '.' | split: '/' %}{%
assign dirDepth = urlParts | size | minus: 2 %}{%
for i in (1..dirDepth) %}{%
    assign dirPath = dirPath | append: '/' | append: urlParts[i] %}{%
endfor %}{%

assign rootPath = ".." %}{%
assign rootPathSeparator = "/" %}{%
for i in (2..dirDepth) %}{%
  assign rootPath = rootPath | append: "/.." %}{%
endfor %}{%
if dirDepth == 0 %}{%
  assign rootPath = "" %}{%
  assign rootPathSeparator = "" %}{%
endif %}{%

if jekyll.environment == "production" %}{%

  assign wwwRoot    = "https://"        | append: rootDomain %}{%
  assign audioRoot  = "https://audio."  | append: rootDomain %}{%
  assign binRoot    = "https://bin."    | append: rootDomain %}{%
  assign imagesRoot = "https://images." | append: rootDomain %}{%
  assign sitesRoot  = "https://sites."  | append: rootDomain %}{%
  assign videosRoot = "https://videos." | append: rootDomain %}{%
  assign wikiRoot   = "https://wiki."   | append: rootDomain %}{%

  assign mediaRoot  = "https://media."  | append: rootDomain %}{%

elsif jekyll.environment == "development" %}{%

  assign wwwRoot    = rootPath %}{%
  assign audioRoot  = "https://audio."  | append: rootDomain %}{%
  assign binRoot    = "https://bin."    | append: rootDomain %}{%
  assign imagesRoot = "https://images." | append: rootDomain %}{%
  assign sitesRoot  = "https://sites."  | append: rootDomain %}{%
  assign videosRoot = "https://videos." | append: rootDomain %}{%
  assign wikiRoot   = "https://wiki."   | append: rootDomain %}{%

  assign mediaRoot  = "https://media."  | append: rootDomain %}{%

else %}{%

  assign wwwRoot    = rootPath %}{%
  assign audioRoot  = rootPath | append: rootPathSeparator | append: "audio" %}{%
  assign binRoot    = rootPath | append: rootPathSeparator | append: "bin" %}{%
  assign imagesRoot = rootPath | append: rootPathSeparator | append: "images" %}{%
  assign sitesRoot  = https://sites." | append: rootDomain %}{%
  assign videosRoot = rootPath | append: rootPathSeparator | append: "videos" %}{%
  assign wikiRoot   = rootPath | append: rootPathSeparator | append: "wiki" %}{%

  assign mediaRoot  = rootPath | append: rootPathSeparator | append: "media" %}{%

endif %}{%


assign wwwDir     = "." %}{%
assign audioDir   = audioRoot  | append: dirPath %}{%
assign binDir     = binRoot    | append: dirPath %}{%
assign imagesDir  = imagesRoot | append: dirPath %}{%
assign sitesDir   = sitesRoot  | append: dirPath %}{%
assign videosDir  = videosRoot | append: dirPath %}{%
assign wikiDir    = wikiRoot   | append: dirPath %}{%


assign mediaDir         = mediaRoot  | append: dirPath %}{%
assign absLinkBase      = wwwRoot %}{%
assign linkBase         = wwwDir %}{%
assign absMediaLinkBase = mediaRoot %}{%
assign mediaLinkBase    = mediaDir

%}
